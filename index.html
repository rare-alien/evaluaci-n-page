<!-- Chosen Palette: Warm Neutrals (Gray-50 BG, White Cards, Green & Gray-800 Text) -->
<!-- Application Structure Plan: Se implementa un diseño de "dashboard ejecutivo" de arriba hacia abajo. Comienza con el Resumen Ejecutivo (el veredicto y los KPIs clave: VPN, TIR) para una toma de decisiones rápida. Luego, permite al usuario profundizar en el "Porqué" (Evaluación Financiera con gráficos de TIR vs TMAR y FNE), el "Cómo" (Desglose Económico de la inversión y costos), el "Qué" (Detalles Técnicos del nuevo sistema vs. el antiguo) y el "Contexto" (Estudio de Mercado y datos de encuestas). Esta estructura prioriza la usabilidad y la rápida comprensión para un tomador de decisiones, en lugar de replicar la estructura lineal académica del informe original. -->
<!-- Visualization & Content Choices: 
- Resumen: Tarjetas de KPIs (HTML/Tailwind) -> Meta: Informar -> Justificación: Acceso inmediato a las métricas clave del proyecto (VPN, TIR, TMAR, Inversión).
- Evaluación: Gráfico de Barras (TIR vs TMAR) -> Meta: Comparar -> Viz: Chart.js Bar -> Interacción: Tooltip -> Justificación: Demuestra visualmente la alta rentabilidad del proyecto frente al costo de oportunidad (98% vs 14%).
- Evaluación: Gráfico de Línea (Flujo Neto de Efectivo) -> Meta: Mostrar Cambio/Proyección -> Viz: Chart.js Line -> Interacción: Tooltip -> Justificación: Muestra la generación de efectivo proyectada año con año que fundamenta el VPN.
- Económico: Gráfico de Dona (Desglose de Inversión) -> Meta: Mostrar Proporción -> Viz: Chart.js Donut -> Interacción: Tooltip -> Justificación: Detalla visualmente en qué se gasta la inversión inicial (Fijos vs. Diferidos).
- Técnico: Diagrama de Flujo de Proceso (HTML/Tailwind) -> Meta: Organizar/Comparar -> Viz: HTML/CSS (Flexbox) -> Interacción: Estático -> Justificación: Contrapone claramente el proceso de venta manual (ineficiente) con el nuevo proceso automatizado (eficiente).
- Mercado: Gráfico de Barras (Resultados de Encuesta) -> Meta: Justificar/Informar -> Viz: Chart.js Bar -> Interacción: Tooltip -> Justificación: Aporta datos primarios (simulados basados en el reporte) que validan la necesidad del cliente y la demanda del mercado.
-->
<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluación de Proyecto - Agro El Jardín de Flores</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
        /* Alturas específicas para gráficos para evitar estilos en línea */
        .chart-h-300 {
            height: 300px;
        }
        .chart-h-250 {
            height: 250px;
        }

        /* ===== ANIMACIONES WEB ===== */
        
        /* Animación de entrada fade-in */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Animación de entrada desde la izquierda */
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Animación de entrada desde la derecha */
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Animación de escala para tarjetas */
        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Animación de pulso para elementos importantes */
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        /* Animación de rotación para iconos */
        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        /* Clases de animación */
        .animate-on-scroll {
            opacity: 0;
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .animate-on-scroll.animated {
            opacity: 1;
            animation: fadeIn 0.8s ease-out forwards;
        }

        .animate-slide-left {
            opacity: 0;
            transform: translateX(-30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .animate-slide-left.animated {
            opacity: 1;
            transform: translateX(0);
        }

        .animate-slide-right {
            opacity: 0;
            transform: translateX(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .animate-slide-right.animated {
            opacity: 1;
            transform: translateX(0);
        }

        .animate-scale {
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .animate-scale.animated {
            opacity: 1;
            transform: scale(1);
        }

        /* Animación para el header */
        header {
            animation: fadeIn 0.5s ease-out;
        }

        /* Efectos hover mejorados */
        .kpi-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .section-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .section-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        /* Animación para los enlaces de navegación */
        nav a {
            position: relative;
            transition: color 0.3s ease;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background-color: #16a34a;
            transition: width 0.3s ease, left 0.3s ease;
        }

        nav a:hover::after {
            width: 100%;
            left: 0;
        }

        /* Animación para el banner de recomendación */
        .recommendation-banner {
            animation: slideInLeft 0.8s ease-out, pulse 2s ease-in-out 1s infinite;
        }

        /* Animación de contador para números */
        .counter {
            transition: all 0.3s ease;
        }

        /* Animación de carga para gráficos */
        .chart-container {
            opacity: 0;
            animation: fadeIn 1s ease-out 0.5s forwards;
        }

        /* Animación para las flechas del proceso */
        .process-arrow {
            animation: pulse 2s ease-in-out infinite;
        }

        /* Animación de entrada escalonada para las tarjetas KPI */
        .kpi-card:nth-child(1) { animation-delay: 0.1s; }
        .kpi-card:nth-child(2) { animation-delay: 0.2s; }
        .kpi-card:nth-child(3) { animation-delay: 0.3s; }
        .kpi-card:nth-child(4) { animation-delay: 0.4s; }

        /* Animación para el footer */
        footer {
            animation: fadeIn 0.6s ease-out;
        }

        /* Efecto de brillo en hover para botones y elementos interactivos */
        .glow-on-hover {
            transition: box-shadow 0.3s ease;
        }

        .glow-on-hover:hover {
            box-shadow: 0 0 15px rgba(22, 163, 74, 0.4);
        }

        /* Estilos para imágenes */
        img {
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        img:hover {
            transform: scale(1.02);
        }

        /* Estilos específicos para el logo en el header */
        header img {
            object-fit: contain;
            transition: transform 0.3s ease;
        }

        header img:hover {
            transform: scale(1.05);
        }

        /* Estilos para la imagen de la tienda */
        .tienda-image {
            border-radius: 0.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        /* ===== ESTILOS PARA ANIMACIONES DE REDES SOCIALES ===== */
        .social-container-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 1rem;
        }

        .socialContainer {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .socialSvg {
            width: 24px;
            height: 24px;
            z-index: 2;
            transition: all 0.3s ease;
        }

        /* Instagram */
        .containerOne {
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
        }

        .containerOne:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 25px rgba(188, 24, 136, 0.5);
        }

        .containerOne:hover .instagramSvg {
            transform: rotate(360deg) scale(1.2);
            fill: white;
        }

        .instagramSvg {
            fill: white;
        }

        /* Twitter */
        .containerTwo {
            background: #1DA1F2;
        }

        .containerTwo:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 25px rgba(29, 161, 242, 0.5);
        }

        .containerTwo:hover .twitterSvg {
            transform: rotate(360deg) scale(1.2);
            fill: white;
        }

        .twitterSvg {
            fill: white;
        }

        /* LinkedIn */
        .containerThree {
            background: #0077B5;
        }

        .containerThree:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 25px rgba(0, 119, 181, 0.5);
        }

        .containerThree:hover .linkdinSvg {
            transform: rotate(360deg) scale(1.2);
            fill: white;
        }

        .linkdinSvg {
            fill: white;
        }

        /* WhatsApp */
        .containerFour {
            background: #25D366;
        }

        .containerFour:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 25px rgba(37, 211, 102, 0.5);
        }

        .containerFour:hover .whatsappSvg {
            transform: rotate(360deg) scale(1.2);
            fill: white;
        }

        .whatsappSvg {
            fill: white;
        }

        /* Animación de pulso para redes sociales (evita conflicto con la animación pulse existente) */
        @keyframes socialPulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .socialContainer:active {
            animation: socialPulse 0.3s ease;
        }

        /* Efecto de ondas al hacer hover */
        .socialContainer::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: scale(0);
            transition: transform 0.5s ease;
        }

        .socialContainer:hover::after {
            transform: scale(2);
            opacity: 0;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex-shrink-0 flex items-center space-x-3">
                    <img src="logo.png" alt="Agro El Jardín de Flores" class="h-12 w-auto animate-on-scroll" style="max-height: 50px;">
                    <span class="text-xl font-bold text-green-700 hidden sm:inline">Agro El Jardín de Flores</span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#resumen" class="text-gray-600 hover:text-green-700 px-3 py-2 rounded-md text-sm font-medium">Resumen</a>
                        <a href="#evaluacion" class="text-gray-600 hover:text-green-700 px-3 py-2 rounded-md text-sm font-medium">Evaluación</a>
                        <a href="#economico" class="text-gray-600 hover:text-green-700 px-3 py-2 rounded-md text-sm font-medium">Análisis Económico</a>
                        <a href="#tecnico" class="text-gray-600 hover:text-green-700 px-3 py-2 rounded-md text-sm font-medium">Estudio Técnico</a>
                        <a href="#mercado" class="text-gray-600 hover:text-green-700 px-3 py-2 rounded-md text-sm font-medium">Estudio de Mercado</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <select id="mobile-nav" class="block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md">
                        <option value="#resumen">Resumen</option>
                        <option value="#evaluacion">Evaluación</option>
                        <option value="#economico">Análisis Económico</option>
                        <option value="#tecnico">Estudio Técnico</option>
                        <option value="#mercado">Estudio de Mercado</option>
                    </select>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <section id="resumen" class="mb-16 scroll-mt-20">
            <h1 class="text-3xl font-bold text-gray-900 animate-on-scroll">Evaluación de Proyecto: Agro El Jardín de Flores</h1>
            <h2 class="text-xl font-semibold text-green-700 mt-1 mb-4 animate-on-scroll">Implementación de Sistema de Gestión Automática de Inventario</h2>
            
            <p class="text-base text-gray-700 mb-6 max-w-3xl animate-on-scroll">
                Este informe interactivo presenta la evaluación económica y de rentabilidad para el proyecto de implementar un nuevo sistema de gestión automática de base de datos e inventario en nuestra tienda en Cárdenas. El objetivo es determinar si la inversión en tecnología es económicamente viable. A continuación, se presentan los hallazgos clave.
            </p>

            <div class="bg-green-50 border-l-4 border-green-600 text-green-900 p-6 rounded-lg shadow-sm mb-8 recommendation-banner glow-on-hover">
                <h3 class="text-2xl font-bold mb-2">Recomendación: ACEPTAR EL PROYECTO</h3>
                <p class="text-lg">
                    La inversión en el sistema de gestión es económicamente rentable. El proyecto genera un valor significativamente superior al costo del capital invertido, optimizando operaciones y mejorando el servicio al cliente.
                </p>
            </div>

            <h3 class="text-2xl font-semibold text-gray-900 mb-4 animate-on-scroll">Indicadores Financieros Clave</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 kpi-card animate-scale">
                    <h4 class="text-sm font-medium text-gray-500 uppercase tracking-wider">Valor Presente Neto (VPN)</h4>
                    <p class="text-3xl font-bold text-green-700 mt-2"><span class="counter" data-target="751348" data-prefix="$" data-suffix=" MXN">$0</span></p>
                    <p class="text-sm text-gray-600 mt-1">El proyecto genera un valor neto positivo.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 kpi-card animate-scale">
                    <h4 class="text-sm font-medium text-gray-500 uppercase tracking-wider">Tasa Interna de Rendimiento (TIR)</h4>
                    <p class="text-3xl font-bold text-green-700 mt-2"><span class="counter" data-target="98.45" data-suffix="%">0%</span></p>
                    <p class="text-sm text-gray-600 mt-1">Rentabilidad interna muy superior al costo.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 kpi-card animate-scale">
                    <h4 class="text-sm font-medium text-gray-500 uppercase tracking-wider">TMAR (Tasa de Costo de Oportunidad)</h4>
                    <p class="text-3xl font-bold text-gray-700 mt-2"><span class="counter" data-target="13.92" data-suffix="%">0%</span></p>
                    <p class="text-sm text-gray-600 mt-1">Rendimiento mínimo esperado.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 kpi-card animate-scale">
                    <h4 class="text-sm font-medium text-gray-500 uppercase tracking-wider">Inversión Inicial Total (Año 0)</h4>
                    <p class="text-3xl font-bold text-gray-700 mt-2"><span class="counter" data-target="140719" data-prefix="$" data-suffix=" MXN">$0</span></p>
                    <p class="text-sm text-gray-600 mt-1">Costo total para implementar el sistema.</p>
                </div>
            </div>
        </section>

        <hr class="my-12 border-gray-200">

        <section id="evaluacion" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-gray-900 mb-4 animate-on-scroll">Evaluación Económica y de Rentabilidad</h2>
            <p class="text-base text-gray-700 mb-8 max-w-3xl animate-on-scroll">
                El dictamen del proyecto se basa en dos herramientas financieras clave: el Valor Presente Neto (VPN) y la Tasa Interna de Rendimiento (TIR). Ambas demuestran la viabilidad del proyecto al comparar los flujos de efectivo futuros generados por el sistema contra la inversión inicial y nuestro costo de oportunidad (TMAR).
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 section-card animate-slide-left">
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Comparativa TIR vs. TMAR</h3>
                    <p class="text-gray-700 mb-4">
                        El proyecto se acepta porque su Tasa Interna de Rendimiento (TIR) es drásticamente mayor que nuestra Tasa Mínima Aceptable de Rendimiento (TMAR). Esto significa que la rentabilidad del proyecto (98.45%) supera con creces nuestro costo de oportunidad (13.92%).
                    </p>
                    <div class="chart-container chart-h-300">
                        <canvas id="tirVsTmarChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 section-card animate-slide-right">
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Análisis del VPN</h3>
                    <p class="text-gray-700 mb-4">
                        El Valor Presente Neto (VPN) es positivo ($751,348), lo que indica que, después de cubrir la inversión inicial y el costo del capital (TMAR), el proyecto genera un valor excedente significativo para la empresa. Un VPN > 0 es el principal criterio de aceptación.
                    </p>
                    <ul class="space-y-2 text-gray-700">
                        <li class="flex items-center">
                            <span class="text-green-500 mr-2">✔</span>
                            <strong>VPN > 0:</strong> El proyecto crea valor.
                        </li>
                        <li class="flex items-center">
                            <span class="text-green-500 mr-2">✔</span>
                            <strong>TIR > TMAR:</strong> El proyecto es rentable.
                        </li>
                    </ul>
                </div>
            </div>

            <div class="mt-12 bg-white p-6 rounded-lg shadow-md border border-gray-200 section-card animate-on-scroll">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Proyección de Flujos Netos de Efectivo (FNE)</h3>
                <p class="text-gray-700 mb-6 max-w-3xl">
                    Los cálculos del VPN y la TIR se basan en los Flujos Netos de Efectivo (FNE) proyectados a 5 años. Estos flujos representan el efectivo incremental generado por el proyecto, gracias al aumento en ventas por eficiencia, reducción de mermas y optimización de costos.
                </p>
                <div class="chart-container" style="max-width: 900px;">
                    <canvas id="fneChart"></canvas>
                </div>
            </div>
        </section>

        <hr class="my-12 border-gray-200">

        <section id="economico" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-gray-900 mb-4 animate-on-scroll">Análisis Económico: Inversiones y Costos</h2>
            <p class="text-base text-gray-700 mb-8 max-w-3xl animate-on-scroll">
                Para calcular los flujos de efectivo, primero se determinó la inversión inicial total y los costos operativos asociados. La inversión se compone de activos fijos (equipos) y activos diferidos (software e instalación).
            </p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="md:col-span-2 bg-white p-6 rounded-lg shadow-md border border-gray-200 section-card animate-slide-left">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">Desglose de la Inversión Total: $140,719</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold text-gray-800">Activos Fijos: $80,000</h4>
                            <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1">
                                <li>Equipos de cómputo (PCs, Servidor)</li>
                                <li>Lectores de códigos de barras</li>
                                <li>Impresoras de etiquetas</li>
                                <li>Adaptación de mobiliario</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Activos Diferidos: $60,719</h4>
                            <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1">
                                <li>Licencia del software de gestión</li>
                                <li>Costos de instalación y configuración</li>
                                <li>Capacitación del personal</li>
                                <li>Puesta en marcha del sistema</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 section-card animate-slide-right">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">Proporción de la Inversión</h3>
                    <div class="chart-container chart-h-250">
                        <canvas id="inversionChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 section-card animate-slide-left">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">Costos de Operación y Capital de Trabajo</h3>
                    <p class="text-gray-700 mb-3">
                        Los costos de operación (administración, ventas) se ven optimizados por el sistema. Además, se calculó un capital de trabajo inicial para cubrir el primer ciclo de operación (inventario inicial y sueldos) antes de que el proyecto genere sus propios ingresos.
                    </p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 section-card animate-slide-right">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">Depreciación y Amortización</h3>
                    <p class="text-gray-700">
                        Los activos fijos se deprecian y los diferidos se amortizan contablemente. Estos cálculos, aunque no son salidas de efectivo, generan un escudo fiscal que impacta positivamente en el flujo neto de efectivo.
                    </p>
                </div>
            </div>
        </section>

        <hr class="my-12 border-gray-200">

        <section id="tecnico" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-gray-900 mb-4 animate-on-scroll">Estudio Técnico: El Nuevo Sistema</h2>
            <p class="text-base text-gray-700 mb-8 max-w-3xl animate-on-scroll">
                El núcleo del proyecto es la implementación del sistema de gestión. Este estudio define la ingeniería del proyecto, demostrando la viabilidad técnica de migrar del proceso de venta manual actual a uno automatizado, optimizando el tamaño y la localización de la operación en Cárdenas.
            </p>

            <h3 class="text-2xl font-semibold text-gray-900 mb-6 text-center animate-on-scroll">Comparativa del Proceso de Venta</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-md border border-red-200 section-card animate-slide-left">
                    <h4 class="text-xl font-semibold text-red-700 mb-4 text-center">Proceso Manual Actual (Ineficiente)</h4>
                    <div class="flex flex-col space-y-3 text-center">
                        <div class="bg-red-50 p-3 rounded-md border border-red-100">
                            <span class="font-semibold">1. Cliente solicita producto</span>
                            <p class="text-sm text-gray-600">El empleado busca manualmente en libretas o en el almacén.</p>
                        </div>
                        <div class="text-2xl text-red-400 self-center process-arrow">↓</div>
                        <div class="bg-red-50 p-3 rounded-md border border-red-100">
                            <span class="font-semibold">2. Verificación de Existencia</span>
                            <p class="text-sm text-gray-600">Alta probabilidad de error. Se pierde tiempo.</p>
                        </div>
                        <div class="text-2xl text-red-400 self-center process-arrow">↓</div>
                        <div class="bg-red-50 p-3 rounded-md border border-red-100">
                            <span class="font-semibold">3. Registro de Venta</span>
                            <p class="text-sm text-gray-600">Se anota la venta en una libreta. No hay control de inventario en tiempo real.</p>
                        </div>
                        <div class="text-2xl text-red-400 self-center process-arrow">↓</div>
                        <div class="bg-red-50 p-3 rounded-md border border-red-100">
                            <span class="font-semibold">4. Pedido a Proveedor</span>
                            <p class="text-sm text-gray-600">Se realiza "a ojo", causando mermas o falta de stock.</p>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-md border border-green-200 section-card animate-slide-right">
                    <h4 class="text-xl font-semibold text-green-700 mb-4 text-center">Proceso Automatizado Propuesto</h4>
                    <div class="flex flex-col space-y-3 text-center">
                        <div class="bg-green-50 p-3 rounded-md border border-green-100">
                            <span class="font-semibold">1. Cliente solicita producto</span>
                            <p class="text-sm text-gray-600">El empleado escanea o busca en el sistema. Existencia y ubicación al instante.</p>
                        </div>
                        <div class="text-2xl text-green-400 self-center process-arrow">↓</div>
                        <div class="bg-green-50 p-3 rounded-md border border-green-100">
                            <span class="font-semibold">2. Venta Rápida</span>
                            <p class="text-sm text-gray-600">El sistema descuenta el producto del inventario en tiempo real.</p>
                        </div>
                        <div class="text-2xl text-green-400 self-center process-arrow">↓</div>
                        <div class="bg-green-50 p-3 rounded-md border border-green-100">
                            <span class="font-semibold">3. Base de Datos de Clientes</span>
                            <p class="text-sm text-gray-600">Se registra la compra, permitiendo futuras promociones y mejor servicio.</p>
                        </div>
                        <div class="text-2xl text-green-400 self-center process-arrow">↓</div>
                        <div class="bg-green-50 p-3 rounded-md border border-green-100">
                            <span class="font-semibold">4. Pedido a Proveedor</span>
                            <p class="text-sm text-gray-600">El sistema genera órdenes de compra automáticas basadas en stock mínimo.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-12 bg-white p-6 rounded-lg shadow-md border border-gray-200 section-card animate-on-scroll">
                <h3 class="text-xl font-semibold text-gray-900 mb-4 text-center">Nuestra Tienda en Cárdenas</h3>
                <p class="text-gray-700 mb-6 text-center max-w-3xl mx-auto">
                    La implementación del sistema de gestión se realizará en nuestra tienda física ubicada en Cárdenas, donde actualmente atendemos a nuestros clientes con productos agroquímicos, alimentos para animales y suministros para mascotas.
                </p>
                <div class="flex justify-center">
                    <img src="tienda.jpg" alt="Fachada de la tienda Agro El Jardín de Flores en Cárdenas" class="rounded-lg shadow-lg max-w-full h-auto animate-scale" style="max-width: 900px; width: 100%;">
                </div>
            </div>
        </section>

        <hr class="my-12 border-gray-200">

        <section id="mercado" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-gray-900 mb-4 animate-on-scroll">Estudio de Mercado: Demanda y Competencia</h2>
            <p class="text-base text-gray-700 mb-8 max-w-3xl animate-on-scroll">
                El proyecto se justifica en una demanda comprobada en Cárdenas. Las encuestas a clientes actuales y potenciales (fuentes primarias) confirmaron la necesidad de un servicio más ágil y un control de inventario preciso, problemas que el sistema automatizado resuelve directamente.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 section-card animate-slide-left">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">Datos Clave de la Encuesta de Clientes</h3>
                    <p class="text-gray-700 mb-4">
                        Los resultados de las encuestas (N=150 clientes) validan los problemas operativos actuales y el alto interés en las mejoras que el sistema proporcionará.
                    </p>
                    <div class="chart-container">
                        <canvas id="encuestaChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 section-card animate-slide-right">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">Análisis del Entorno</h3>
                    <ul class="space-y-4 text-gray-700">
                        <li>
                            <strong class="text-gray-900">Análisis de Demanda:</strong>
                            <p>La demanda de agroquímicos e insumos en Cárdenas es estable y creciente. Las encuestas indican que el 78% de los clientes han experimentado demoras en la atención debido a la búsqueda manual de productos.</p>
                        </li>
                        <li>
                            <strong class="text-gray-900">Análisis de Oferta (Competencia):</strong>
                            <p>Existen 3 competidores directos en la zona. Ninguno cuenta con un sistema de inventario automatizado visible al cliente, presentando una oportunidad clave de diferenciación en servicio y eficiencia.</p>
                        </li>
                        <li>
                            <strong class="text-gray-900">Análisis de Precios y Comercialización:</strong>
                            <p>Los precios se mantendrán competitivos. El canal de distribución sigue siendo la venta directa en tienda, pero el nuevo sistema permitirá, a futuro, expandirse a ventas en línea con inventario preciso.</p>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-gray-200 mt-16">
        <div class="container mx-auto px-6 py-6">
            <div class="text-center">
                <p class="text-gray-500 text-sm mb-4">
                    &copy; 2025 Agro El Jardín de Flores. Todos los derechos reservados. Informe de Evaluación de Proyecto.
                </p>
                <div class="social-container-wrapper animate-on-scroll">
                    <a href="#" class="socialContainer containerOne" aria-label="Síguenos en Instagram">
                        <svg class="socialSvg instagramSvg" viewBox="0 0 16 16"> <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"></path> </svg>
                    </a>
                    
                    <a href="#" class="socialContainer containerTwo" aria-label="Síguenos en Twitter">
                        <svg class="socialSvg twitterSvg" viewBox="0 0 16 16"> <path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"></path> </svg>
                    </a>
                    
                    <a href="#" class="socialContainer containerThree" aria-label="Síguenos en LinkedIn">
                        <svg class="socialSvg linkdinSvg" viewBox="0 0 448 512"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg>
                    </a>
                    
                    <a href="#" class="socialContainer containerFour" aria-label="Contáctanos por WhatsApp">
                        <svg class="socialSvg whatsappSvg" viewBox="0 0 16 16"> <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"></path> </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            const wrapLabel = (str) => {
                const maxLength = 16;
                const words = str.split(' ');
                let lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + word).length > maxLength) {
                        lines.push(currentLine);
                        currentLine = word + ' ';
                    } else {
                        currentLine += word + ' ';
                    }
                });
                lines.push(currentLine.trim());
                return lines;
            };

            // ===== ANIMACIONES AL SCROLL =====
            const animationObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animated');
                        // Si es un contador, iniciar la animación del contador
                        if (entry.target.classList.contains('counter')) {
                            animateCounter(entry.target);
                        }
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            // Observar todos los elementos con clases de animación
            document.querySelectorAll('.animate-on-scroll, .animate-slide-left, .animate-slide-right, .animate-scale, .counter').forEach(el => {
                animationObserver.observe(el);
            });

            // ===== FUNCIÓN DE CONTADOR ANIMADO =====
            const animatedCounters = new Set(); // Para evitar animar el mismo contador múltiples veces
            
            function animateCounter(element) {
                // Evitar animar el mismo contador dos veces
                if (animatedCounters.has(element)) {
                    return;
                }
                animatedCounters.add(element);

                const target = parseFloat(element.getAttribute('data-target'));
                const prefix = element.getAttribute('data-prefix') || '';
                const suffix = element.getAttribute('data-suffix') || '';
                const duration = 2000; // 2 segundos
                const start = 0;
                const increment = target / (duration / 16); // 60 FPS
                let current = start;

                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }

                    // Formatear el número
                    let formattedValue;
                    if (target % 1 === 0) {
                        // Es un número entero
                        formattedValue = Math.floor(current).toLocaleString('es-MX');
                    } else {
                        // Es un decimal
                        formattedValue = current.toFixed(2);
                    }

                    element.textContent = prefix + formattedValue + suffix;
                }, 16);
            }

            // --- Navegación y Scroll ---
            const sections = document.querySelectorAll('section[id]');
            const mobileNavSelect = document.getElementById('mobile-nav');
            const desktopNavLinks = document.querySelectorAll('nav a[href^="#"]');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        // Actualizar select móvil
                        mobileNavSelect.value = `#${id}`;
                        // Actualizar links de escritorio
                        desktopNavLinks.forEach(link => {
                            link.classList.toggle('text-green-700', link.getAttribute('href') === `#${id}`);
                            link.classList.toggle('text-gray-600', link.getAttribute('href') !== `#${id}`);
                        });
                    }
                });
            }, {
                rootMargin: '-50% 0px -50% 0px', // Activa cuando la sección está en el medio de la pantalla
                threshold: 0
            });

            sections.forEach(section => observer.observe(section));


            const mobileNav = document.getElementById('mobile-nav');
            mobileNav.addEventListener('change', (e) => {
                const targetId = e.target.value;
                document.querySelector(targetId).scrollIntoView({ behavior: 'smooth' });
            });

            document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            // --- Configuración Base para Gráficos Chart.js ---
            const defaultChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                animation: {
                    duration: 1500,
                    easing: 'easeOutQuart'
                },
                plugins: {
                    legend: {
                        labels: {
                            color: '#4B5563', // text-gray-600
                            font: { family: "'Inter', sans-serif" }
                        }
                    },
                    tooltip: {
                        bodyFont: { family: "'Inter', sans-serif" },
                        titleFont: { family: "'Inter', sans-serif" },
                        animation: {
                            duration: 300
                        }
                    }
                }
            };

            // --- Gráfico 1: TIR vs TMAR ---
            const ctxTir = document.getElementById('tirVsTmarChart').getContext('2d');
            const tirChart = new Chart(ctxTir, {
                type: 'bar',
                data: {
                    labels: ['Tasa Interna de Rendimiento (TIR)', 'Tasa Mínima (TMAR)'],
                    datasets: [{
                        label: 'Rentabilidad del Proyecto',
                        data: [98.45, 13.92],
                        backgroundColor: [
                            'rgba(22, 163, 74, 0.7)',
                            'rgba(220, 38, 38, 0.7)' 
                        ],
                        borderColor: [
                            'rgba(22, 163, 74, 1)',
                            'rgba(220, 38, 38, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    ...defaultChartOptions,
                    indexAxis: 'y',
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: (context) => `${context.parsed.x.toFixed(2)}%`
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            ticks: {
                                callback: (value) => `${value}%`,
                                color: '#4B5563'
                            }
                        },
                        y: { ticks: { color: '#4B5563' } }
                    }
                }
            });

            // --- Gráfico 2: Flujos Netos de Efectivo (FNE) ---
            const ctxFne = document.getElementById('fneChart').getContext('2d');
            const fneChart = new Chart(ctxFne, {
                type: 'line',
                data: {
                    labels: ['Año 1', 'Año 2', 'Año 3', 'Año 4', 'Año 5'],
                    datasets: [{
                        label: 'Flujos Netos de Efectivo (FNE)',
                        data: [120000, 180000, 250000, 300000, 320000],
                        fill: true,
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        borderColor: 'rgba(22, 163, 74, 1)',
                        tension: 0.1
                    }]
                },
                options: {
                    ...defaultChartOptions,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: (context) => `FNE: $${context.parsed.y.toLocaleString('es-MX')}`
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: (value) => `$${(value / 1000).toLocaleString('es-MX')}k`,
                                color: '#4B5563'
                            }
                        },
                        x: { ticks: { color: '#4B5563' } }
                    }
                }
            });

            // --- Gráfico 3: Desglose de Inversión ---
            const ctxInversion = document.getElementById('inversionChart').getContext('2d');
            const inversionChart = new Chart(ctxInversion, {
                type: 'doughnut',
                data: {
                    labels: ['Activos Fijos ($80,000)', 'Activos Diferidos ($60,719)'],
                    datasets: [{
                        data: [80000, 60719],
                        backgroundColor: [
                            'rgba(5, 150, 105, 0.8)',
                            'rgba(16, 185, 129, 0.6)'
                        ],
                        borderColor: [
                            'rgba(5, 150, 105, 1)',
                            'rgba(16, 185, 129, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    ...defaultChartOptions,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                boxWidth: 12,
                                padding: 15
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: (context) => {
                                    const label = context.label || '';
                                    const value = context.parsed;
                                    return `${label.split('(')[0]}: $${value.toLocaleString('es-MX')}`;
                                }
                            }
                        }
                    }
                }
            });

            // --- Gráfico 4: Resultados de Encuesta ---
            const ctxEncuesta = document.getElementById('encuestaChart').getContext('2d');
            const encuestaChart = new Chart(ctxEncuesta, {
                type: 'bar',
                data: {
                    labels: [
                        'Experimentó demoras en atención', 
                        'Reportó inventario impreciso', 
                        'Alto interés en sistema automatizado'
                    ],
                    datasets: [{
                        label: '% de Clientes (N=150)',
                        data: [78, 62, 85],
                        backgroundColor: 'rgba(107, 114, 128, 0.7)',
                        borderColor: 'rgba(55, 65, 81, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    ...defaultChartOptions,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                callback: (value) => `${value}%`,
                                color: '#4B5563'
                            }
                        },
                        x: {
                            ticks: {
                                callback: function(value, index) {
                                    return wrapLabel(this.getLabelForValue(value));
                                },
                                color: '#4B5563'
                            }
                        }
                    }
                }
            });

        });
    </script>
</body>
</html>